{"ast":null,"code":"import _asyncToGenerator from\"/Users/ankitraj/Desktop/react.js/movies/entertain-hub/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ankitraj/Desktop/react.js/movies/entertain-hub/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/ankitraj/Desktop/react.js/movies/entertain-hub/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import Modal from'@material-ui/core/Modal';import Backdrop from'@material-ui/core/Backdrop';import Fade from'@material-ui/core/Fade';import axios from'axios';import{useEffect,useState}from\"react\";import{img_500,unavailable,unavailableLandscape}from\"../../config/config\";import{Button}from\"@material-ui/core\";import YouTubeIcon from\"@material-ui/icons/YouTube\";import\"./ContentModal.css\";import Carousel from\"../Carousel/Carousel\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{modal:{display:'flex',alignItems:'center',justifyContent:'center'},paper:{width:\"90%\",height:\"80%\",backgroundColor:\"#39445a\",border:\"1px solid #282c34\",borderRadius:10,color:\"white\",boxShadow:theme.shadows[5],padding:theme.spacing(1,1,3)}};});export default function ContentModal(_ref){var children=_ref.children,media_type=_ref.media_type,id=_ref.id;var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),video=_useState6[0],setVideo=_useState6[1];var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/\".concat(media_type,\"/\").concat(id,\"?api_key=89c1beb1c605b68a9af79953628d7745&language=en-US\"));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setContent(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();var fetchVideo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _data$results$;var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"https://api.themoviedb.org/3/\".concat(media_type,\"/\").concat(id,\"/videos?api_key=89c1beb1c605b68a9af79953628d7745&language=en-US\"));case 2:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;setVideo((_data$results$=data.results[0])===null||_data$results$===void 0?void 0:_data$results$.key);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchVideo(){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchData();fetchVideo();// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{type:\"button\",className:\"media\",onClick:handleOpen,children:children}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:open,onClose:handleClose,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:open,children:content&&/*#__PURE__*/_jsx(\"div\",{className:classes.paper,children:/*#__PURE__*/_jsxs(\"div\",{className:\"ContentModal\",children:[/*#__PURE__*/_jsx(\"img\",{src:content.poster_path?\"\".concat(img_500,\"/\").concat(content.poster_path):unavailable,alt:content.name||content.title,className:\"ContentModal__portrait\"}),/*#__PURE__*/_jsx(\"img\",{src:content.backdrop_path?\"\".concat(img_500,\"/\").concat(content.backdrop_path):unavailableLandscape,alt:content.name||content.title,className:\"ContentModal__landscape\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContentModal__about\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"ContentModal__title\",children:[content.name||content.title,\" (\",(content.first_air_date||content.release_date||\"-----\").substring(0,4),\")\"]}),content.tagline&&/*#__PURE__*/_jsx(\"i\",{className:\"tagline\",children:content.tagline}),/*#__PURE__*/_jsx(\"span\",{className:\"ContentModal__description\",children:content.overview}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Carousel,{id:id,media_type:media_type})}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(YouTubeIcon,{}),color:\"primary\",target:\"__blank\",href:\"https://www.youtube.com/watch?v=\".concat(video),children:\"Enjoy the Trailer\"})]})]})})})})]});}","map":{"version":3,"sources":["/Users/ankitraj/Desktop/react.js/movies/entertain-hub/src/components/ContentModal/ContentModal.js"],"names":["React","makeStyles","Modal","Backdrop","Fade","axios","useEffect","useState","img_500","unavailable","unavailableLandscape","Button","YouTubeIcon","Carousel","useStyles","theme","modal","display","alignItems","justifyContent","paper","width","height","backgroundColor","border","borderRadius","color","boxShadow","shadows","padding","spacing","ContentModal","children","media_type","id","classes","open","setOpen","content","setContent","video","setVideo","handleOpen","handleClose","fetchData","get","data","fetchVideo","results","key","timeout","poster_path","name","title","backdrop_path","first_air_date","release_date","substring","tagline","overview"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport axios from 'axios';\nimport { useEffect, useState } from \"react\";\nimport {img_500, unavailable, unavailableLandscape,} from \"../../config/config\";\nimport { Button } from \"@material-ui/core\";\nimport YouTubeIcon from \"@material-ui/icons/YouTube\";\nimport \"./ContentModal.css\";\nimport Carousel from \"../Carousel/Carousel\";\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    width: \"90%\",\n    height: \"80%\",\n    backgroundColor: \"#39445a\",\n    border: \"1px solid #282c34\",\n    borderRadius: 10,\n    color: \"white\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(1, 1, 3),\n  },\n}));\n\nexport default function ContentModal( { children, media_type, id }) {\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    const [content, setContent] = useState();\n    const [video, setVideo] = useState();\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const fetchData = async () => {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/${media_type}/${id}?api_key=89c1beb1c605b68a9af79953628d7745&language=en-US`\n    );\n\n    setContent(data);\n    \n  };\n  const fetchVideo = async () => {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/${media_type}/${id}/videos?api_key=89c1beb1c605b68a9af79953628d7745&language=en-US`\n    );\n    \n    setVideo(data.results[0]?.key);\n  };\n  useEffect(() => {\n    fetchData();\n    fetchVideo();\n    // eslint-disable-next-line\n  }, []);\n\n\n  return (\n    <div>\n      <div type=\"button\" className=\"media\" onClick={handleOpen}>\n        {children}\n      </div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          {content && (\n            <div className={classes.paper}>\n              <div className=\"ContentModal\">\n                <img\n                  src={\n                    content.poster_path\n                      ? `${img_500}/${content.poster_path}`\n                      : unavailable\n                  }\n                  alt={content.name || content.title}\n                  className=\"ContentModal__portrait\"\n                />\n                <img\n                  src={\n                    content.backdrop_path\n                      ? `${img_500}/${content.backdrop_path}`\n                      : unavailableLandscape\n                  }\n                  alt={content.name || content.title}\n                  className=\"ContentModal__landscape\"\n                />\n                <div className=\"ContentModal__about\">\n                  <span className=\"ContentModal__title\">\n                    {content.name || content.title} (\n                    {(\n                      content.first_air_date ||\n                      content.release_date ||\n                      \"-----\"\n                    ).substring(0, 4)}\n                    )\n                  </span>\n                  {content.tagline && (\n                    <i className=\"tagline\">{content.tagline}</i>\n                  )}\n\n                  <span className=\"ContentModal__description\">\n                    {content.overview}\n                  </span>\n\n                  <div>\n                    <Carousel id={id} media_type={media_type} />\n                  </div>\n\n                  <Button\n                    variant=\"contained\"\n                    startIcon={<YouTubeIcon />}\n                    color=\"primary\"\n                    target=\"__blank\"\n                    href={`https://www.youtube.com/watch?v=${video}`}\n                  >\n                    Enjoy the Trailer\n                  </Button>\n                </div>\n              </div>\n            </div>\n          )}\n        </Fade>\n      </Modal>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}